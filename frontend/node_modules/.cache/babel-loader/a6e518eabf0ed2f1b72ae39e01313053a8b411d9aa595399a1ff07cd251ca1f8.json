{"ast":null,"code":"import React from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function MoviesCard(_ref){var movie=_ref.movie,page=_ref.page,onLikeFilm=_ref.onLikeFilm,onDeleteFilm=_ref.onDeleteFilm,isMovieSaved=_ref.isMovieSaved;function handleSaveFilm(evt){var saveButton=evt.target.closest(\".movie__button\");saveButton.classList.toggle(\"movie__button_active\");if(saveButton.classList.contains(\"movie__button_active\")){movie.selected=true;}else movie.selected=false;onLikeFilm(movie);}function handleDeleteFilm(){movie.selected=false;onDeleteFilm(movie);}var minutes=movie.duration%60;var hours=(movie.duration-minutes)/60;var filmDuration=\"\".concat(hours,\"\\u0447 \").concat(minutes,\"\\u043C\");var src=movie.image.formats?\"https://api.nomoreparties.co/\".concat(movie.image.url):movie.image;return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"movie__name\",children:movie.nameRU}),/*#__PURE__*/_jsx(\"p\",{className:\"movie__duration\",children:filmDuration}),page===\"movies\"?/*#__PURE__*/_jsx(\"button\",{className:\"button movie__button \".concat(isMovieSaved(movie)?\"movie__button_active\":\"\"),onClick:handleSaveFilm,type:\"button\",\"aria-label\":\"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C \\u0432 \\u0440\\u0435\\u043A\\u043E\\u043C\\u0435\\u043D\\u0434\\u0430\\u0446\\u0438\\u0438\"}):/*#__PURE__*/_jsx(\"button\",{onClick:handleDeleteFilm,className:\"button saved-movie__button\",type:\"button\"}),/*#__PURE__*/_jsx(\"img\",{className:\"movie__image\",alt:\"\\u041A\\u0430\\u0440\\u0442\\u0438\\u043D\\u043A\\u0430 \\u0444\\u0438\\u043B\\u044C\\u043C\\u0430 \".concat(movie.nameRU,\" \\u0440\\u0435\\u0436\\u0438\\u0441\\u0441\\u0435\\u0440\\u0430 \").concat(movie.director),src:src})]});}export default MoviesCard;","map":{"version":3,"names":["React","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","MoviesCard","_ref","movie","page","onLikeFilm","onDeleteFilm","isMovieSaved","handleSaveFilm","evt","saveButton","target","closest","classList","toggle","contains","selected","handleDeleteFilm","minutes","duration","hours","filmDuration","concat","src","image","formats","url","children","className","nameRU","onClick","type","alt","director"],"sources":["/Users/konstantinradcenko/dev/movies-explorer-full/frontend/src/components/MoviesCard/MoviesCard.js"],"sourcesContent":["import React from \"react\";\n\nfunction MoviesCard({ movie, page, onLikeFilm, onDeleteFilm, isMovieSaved }) {\n  function handleSaveFilm(evt) {\n    const saveButton = evt.target.closest(\".movie__button\");\n    saveButton.classList.toggle(\"movie__button_active\");\n    if (saveButton.classList.contains(\"movie__button_active\")) {\n      movie.selected = true;\n    } else movie.selected = false;\n    onLikeFilm(movie);\n  }\n\n  function handleDeleteFilm() {\n    movie.selected = false;\n    onDeleteFilm(movie);\n  }\n\n  const minutes = movie.duration % 60;\n  const hours = (movie.duration - minutes) / 60;\n  const filmDuration = `${hours}ч ${minutes}м`;\n\n  const src = movie.image.formats\n    ? `https://api.nomoreparties.co/${movie.image.url}`\n    : movie.image;\n\n  return (\n    <>\n      <h2 className=\"movie__name\">{movie.nameRU}</h2>\n      <p className=\"movie__duration\">{filmDuration}</p>\n      {page === \"movies\" ? (\n        <button\n          className={`button movie__button ${\n            isMovieSaved(movie) ? \"movie__button_active\" : \"\"\n          }`}\n          onClick={handleSaveFilm}\n          type=\"button\"\n          aria-label=\"Сохранить в рекомендации\"\n        ></button>\n      ) : (\n        <button\n          onClick={handleDeleteFilm}\n          className=\"button saved-movie__button\"\n          type=\"button\"\n        ></button>\n      )}\n      <img\n        className=\"movie__image\"\n        alt={`Картинка фильма ${movie.nameRU} режиссера ${movie.director}`}\n        src={src}\n      />\n    </>\n  );\n}\n\nexport default MoviesCard;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,QAAA,IAAAC,SAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE1B,QAAS,CAAAC,UAAUA,CAAAC,IAAA,CAA0D,IAAvD,CAAAC,KAAK,CAAAD,IAAA,CAALC,KAAK,CAAEC,IAAI,CAAAF,IAAA,CAAJE,IAAI,CAAEC,UAAU,CAAAH,IAAA,CAAVG,UAAU,CAAEC,YAAY,CAAAJ,IAAA,CAAZI,YAAY,CAAEC,YAAY,CAAAL,IAAA,CAAZK,YAAY,CACvE,QAAS,CAAAC,cAAcA,CAACC,GAAG,CAAE,CAC3B,GAAM,CAAAC,UAAU,CAAGD,GAAG,CAACE,MAAM,CAACC,OAAO,CAAC,gBAAgB,CAAC,CACvDF,UAAU,CAACG,SAAS,CAACC,MAAM,CAAC,sBAAsB,CAAC,CACnD,GAAIJ,UAAU,CAACG,SAAS,CAACE,QAAQ,CAAC,sBAAsB,CAAC,CAAE,CACzDZ,KAAK,CAACa,QAAQ,CAAG,IAAI,CACvB,CAAC,IAAM,CAAAb,KAAK,CAACa,QAAQ,CAAG,KAAK,CAC7BX,UAAU,CAACF,KAAK,CAAC,CACnB,CAEA,QAAS,CAAAc,gBAAgBA,CAAA,CAAG,CAC1Bd,KAAK,CAACa,QAAQ,CAAG,KAAK,CACtBV,YAAY,CAACH,KAAK,CAAC,CACrB,CAEA,GAAM,CAAAe,OAAO,CAAGf,KAAK,CAACgB,QAAQ,CAAG,EAAE,CACnC,GAAM,CAAAC,KAAK,CAAG,CAACjB,KAAK,CAACgB,QAAQ,CAAGD,OAAO,EAAI,EAAE,CAC7C,GAAM,CAAAG,YAAY,IAAAC,MAAA,CAAMF,KAAK,YAAAE,MAAA,CAAKJ,OAAO,UAAG,CAE5C,GAAM,CAAAK,GAAG,CAAGpB,KAAK,CAACqB,KAAK,CAACC,OAAO,iCAAAH,MAAA,CACKnB,KAAK,CAACqB,KAAK,CAACE,GAAG,EAC/CvB,KAAK,CAACqB,KAAK,CAEf,mBACExB,KAAA,CAAAF,SAAA,EAAA6B,QAAA,eACE/B,IAAA,OAAIgC,SAAS,CAAC,aAAa,CAAAD,QAAA,CAAExB,KAAK,CAAC0B,MAAM,CAAK,CAAC,cAC/CjC,IAAA,MAAGgC,SAAS,CAAC,iBAAiB,CAAAD,QAAA,CAAEN,YAAY,CAAI,CAAC,CAChDjB,IAAI,GAAK,QAAQ,cAChBR,IAAA,WACEgC,SAAS,yBAAAN,MAAA,CACPf,YAAY,CAACJ,KAAK,CAAC,CAAG,sBAAsB,CAAG,EAAE,CAChD,CACH2B,OAAO,CAAEtB,cAAe,CACxBuB,IAAI,CAAC,QAAQ,CACb,aAAW,wIAA0B,CAC9B,CAAC,cAEVnC,IAAA,WACEkC,OAAO,CAAEb,gBAAiB,CAC1BW,SAAS,CAAC,4BAA4B,CACtCG,IAAI,CAAC,QAAQ,CACN,CACV,cACDnC,IAAA,QACEgC,SAAS,CAAC,cAAc,CACxBI,GAAG,0FAAAV,MAAA,CAAqBnB,KAAK,CAAC0B,MAAM,6DAAAP,MAAA,CAAcnB,KAAK,CAAC8B,QAAQ,CAAG,CACnEV,GAAG,CAAEA,GAAI,CACV,CAAC,EACF,CAAC,CAEP,CAEA,cAAe,CAAAtB,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}