{"ast":null,"code":"import React from\"react\";import useValidateForm from\"../../hooks/useValidateForm\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function SearchForm(_ref){var setSearchValue=_ref.setSearchValue,checkBox=_ref.checkBox,handleCheckbox=_ref.handleCheckbox,page=_ref.page;var _useValidateForm=useValidateForm(),handleInputChange=_useValidateForm.handleInputChange,inputValues=_useValidateForm.inputValues;React.useEffect(function(){if(page===\"movies\"){inputValues.inputValue=localStorage.getItem(\"searchValue\");setSearchValue(inputValues.inputValue);}else{inputValues.inputValue=localStorage.getItem(\"searchValueSaved\");setSearchValue(inputValues.inputValue);}},[]);function handleSubmit(evt){evt.preventDefault();if(page===\"movies\"){localStorage.setItem(\"searchValue\",inputValues.inputValue);setSearchValue(inputValues.inputValue);}else{localStorage.setItem(\"searchValueSaved\",inputValues.inputValue);setSearchValue(inputValues.inputValue);}}return/*#__PURE__*/_jsxs(\"form\",{className:\"search-form\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{placeholder:\"\\u0424\\u0438\\u043B\\u044C\\u043C\",className:\"search-form__input\",name:\"inputValue\",id:\"inputValue\",value:inputValues.inputValue||\"\",onChange:handleInputChange}),/*#__PURE__*/_jsx(\"label\",{className:\"search-form__input-error\",children:!inputValues.searchValue&&!localStorage.getItem(\"searchValue\")&&\"Нужно ввести ключевое слово\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",\"aria-label\":\"\\u041F\\u043E\\u0438\\u0441\\u043A \\u0444\\u0438\\u043B\\u044C\\u043C\\u043E\\u0432\",className:\"button search-form__button\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"serch-form__filter-container\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"checkbox\",onClick:handleCheckbox,\"aria-label\":\"\\u041A\\u043D\\u043E\\u043F\\u043A\\u0430 \\u0432\\u043A\\u043B\\u044E\\u0447\\u0435\\u043D\\u0438\\u044F \\u0444\\u0438\\u043B\\u044C\\u0442\\u0440\\u0430\",className:\"button search-form__filter-button \".concat(checkBox&&\"search-form__filter-button_active\")}),/*#__PURE__*/_jsx(\"p\",{className:\"search-form__filter-text\",children:\"\\u041A\\u043E\\u0440\\u043E\\u0442\\u043A\\u043E\\u043C\\u0435\\u0442\\u0440\\u0430\\u0436\\u043A\\u0438\"})]})]});}export default SearchForm;","map":{"version":3,"names":["React","useValidateForm","jsx","_jsx","jsxs","_jsxs","SearchForm","_ref","setSearchValue","checkBox","handleCheckbox","page","_useValidateForm","handleInputChange","inputValues","useEffect","inputValue","localStorage","getItem","handleSubmit","evt","preventDefault","setItem","className","onSubmit","children","placeholder","name","id","value","onChange","searchValue","type","onClick","concat"],"sources":["/Users/konstantinradcenko/dev/movies-explorer-full/frontend/src/components/SearchForm/SearchForm.js"],"sourcesContent":["import React from \"react\";\nimport useValidateForm from \"../../hooks/useValidateForm\";\n\nfunction SearchForm({ setSearchValue, checkBox, handleCheckbox, page }) {\n  const { handleInputChange, inputValues } = useValidateForm();\n\n  React.useEffect(() => {\n    if (page === \"movies\") {\n      inputValues.inputValue = localStorage.getItem(\"searchValue\");\n      setSearchValue(inputValues.inputValue);\n    } else {\n      inputValues.inputValue = localStorage.getItem(\"searchValueSaved\");\n      setSearchValue(inputValues.inputValue);\n    }\n  }, []);\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    if (page === \"movies\") {\n      localStorage.setItem(\"searchValue\", inputValues.inputValue);\n      setSearchValue(inputValues.inputValue);\n    } else {\n      localStorage.setItem(\"searchValueSaved\", inputValues.inputValue);\n      setSearchValue(inputValues.inputValue);\n    }\n  }\n\n  return (\n    <form className=\"search-form\" onSubmit={handleSubmit}>\n      <input\n        placeholder=\"Фильм\"\n        className=\"search-form__input\"\n        name=\"inputValue\"\n        id=\"inputValue\"\n        value={inputValues.inputValue || \"\"}\n        onChange={handleInputChange}\n      ></input>\n      <label className=\"search-form__input-error\">\n        {!inputValues.searchValue &&\n          !localStorage.getItem(\"searchValue\") &&\n          \"Нужно ввести ключевое слово\"}\n      </label>\n      <button\n        type=\"submit\"\n        aria-label=\"Поиск фильмов\"\n        className=\"button search-form__button\"\n      ></button>\n      <div className=\"serch-form__filter-container\">\n        <button\n          type=\"checkbox\"\n          onClick={handleCheckbox}\n          aria-label=\"Кнопка включения фильтра\"\n          className={`button search-form__filter-button ${\n            checkBox && \"search-form__filter-button_active\"\n          }`}\n        ></button>\n        <p className=\"search-form__filter-text\">Короткометражки</p>\n      </div>\n    </form>\n  );\n}\n\nexport default SearchForm;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,eAAe,KAAM,6BAA6B,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE1D,QAAS,CAAAC,UAAUA,CAAAC,IAAA,CAAqD,IAAlD,CAAAC,cAAc,CAAAD,IAAA,CAAdC,cAAc,CAAEC,QAAQ,CAAAF,IAAA,CAARE,QAAQ,CAAEC,cAAc,CAAAH,IAAA,CAAdG,cAAc,CAAEC,IAAI,CAAAJ,IAAA,CAAJI,IAAI,CAClE,IAAAC,gBAAA,CAA2CX,eAAe,CAAC,CAAC,CAApDY,iBAAiB,CAAAD,gBAAA,CAAjBC,iBAAiB,CAAEC,WAAW,CAAAF,gBAAA,CAAXE,WAAW,CAEtCd,KAAK,CAACe,SAAS,CAAC,UAAM,CACpB,GAAIJ,IAAI,GAAK,QAAQ,CAAE,CACrBG,WAAW,CAACE,UAAU,CAAGC,YAAY,CAACC,OAAO,CAAC,aAAa,CAAC,CAC5DV,cAAc,CAACM,WAAW,CAACE,UAAU,CAAC,CACxC,CAAC,IAAM,CACLF,WAAW,CAACE,UAAU,CAAGC,YAAY,CAACC,OAAO,CAAC,kBAAkB,CAAC,CACjEV,cAAc,CAACM,WAAW,CAACE,UAAU,CAAC,CACxC,CACF,CAAC,CAAE,EAAE,CAAC,CAEN,QAAS,CAAAG,YAAYA,CAACC,GAAG,CAAE,CACzBA,GAAG,CAACC,cAAc,CAAC,CAAC,CACpB,GAAIV,IAAI,GAAK,QAAQ,CAAE,CACrBM,YAAY,CAACK,OAAO,CAAC,aAAa,CAAER,WAAW,CAACE,UAAU,CAAC,CAC3DR,cAAc,CAACM,WAAW,CAACE,UAAU,CAAC,CACxC,CAAC,IAAM,CACLC,YAAY,CAACK,OAAO,CAAC,kBAAkB,CAAER,WAAW,CAACE,UAAU,CAAC,CAChER,cAAc,CAACM,WAAW,CAACE,UAAU,CAAC,CACxC,CACF,CAEA,mBACEX,KAAA,SAAMkB,SAAS,CAAC,aAAa,CAACC,QAAQ,CAAEL,YAAa,CAAAM,QAAA,eACnDtB,IAAA,UACEuB,WAAW,CAAC,gCAAO,CACnBH,SAAS,CAAC,oBAAoB,CAC9BI,IAAI,CAAC,YAAY,CACjBC,EAAE,CAAC,YAAY,CACfC,KAAK,CAAEf,WAAW,CAACE,UAAU,EAAI,EAAG,CACpCc,QAAQ,CAAEjB,iBAAkB,CACtB,CAAC,cACTV,IAAA,UAAOoB,SAAS,CAAC,0BAA0B,CAAAE,QAAA,CACxC,CAACX,WAAW,CAACiB,WAAW,EACvB,CAACd,YAAY,CAACC,OAAO,CAAC,aAAa,CAAC,EACpC,6BAA6B,CAC1B,CAAC,cACRf,IAAA,WACE6B,IAAI,CAAC,QAAQ,CACb,aAAW,2EAAe,CAC1BT,SAAS,CAAC,4BAA4B,CAC/B,CAAC,cACVlB,KAAA,QAAKkB,SAAS,CAAC,8BAA8B,CAAAE,QAAA,eAC3CtB,IAAA,WACE6B,IAAI,CAAC,UAAU,CACfC,OAAO,CAAEvB,cAAe,CACxB,aAAW,wIAA0B,CACrCa,SAAS,sCAAAW,MAAA,CACPzB,QAAQ,EAAI,mCAAmC,CAC9C,CACI,CAAC,cACVN,IAAA,MAAGoB,SAAS,CAAC,0BAA0B,CAAAE,QAAA,CAAC,4FAAe,CAAG,CAAC,EACxD,CAAC,EACF,CAAC,CAEX,CAEA,cAAe,CAAAnB,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}