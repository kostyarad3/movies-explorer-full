{"ast":null,"code":"var _jsxFileName = \"/Users/konstantinradcenko/dev/movies-explorer-full/frontend/src/components/MoviesCardList/MoviesCardList.js\",\n  _s = $RefreshSig$();\nimport React from \"react\";\nimport MoviesCard from \"../MoviesCard/MoviesCard\";\nimport useWindowWidth from \"../../hooks/useWindowWidth\";\nimport Preloader from \"../Preloader/Preloader\";\nimport NoMovieError from \"../NoMovieError/NoMovieError\";\nimport ONE_ROW_WODTH from \"../../utils/constants\";\nimport TWO_ROWS_WODTH from \"../../utils/constants\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction MoviesCardList({\n  movies,\n  page,\n  onLikeFilm,\n  onDeleteFilm,\n  isMovieSaved,\n  isPreloaderActive,\n  noMovieError,\n  noMovieErrorText\n}) {\n  _s();\n  const [numberOfMovies, setNubmerOfMovies] = React.useState();\n  const [maxNumberOfMovies, setMaxNubmerOfMovies] = React.useState();\n  const windowWidth = useWindowWidth();\n  console.log();\n  //изменяет количество фильмов при отображении страницы\n  React.useEffect(() => {\n    setNubmerOfMovies(movies.length);\n    if (page === \"movies\") {\n      movies = JSON.parse(localStorage.getItem(\"filteredMovies\")) || [];\n    } else {\n      movies = JSON.parse(localStorage.getItem(\"savedMovies\"));\n    }\n  }, [page, movies, window.location.href]);\n  // измененние количества доступных фильмов при отображениее\n  React.useEffect(() => {\n    if (page === \"savedMovies\") {\n      return setMaxNubmerOfMovies(movies.length);\n    }\n    if (windowWidth < 695) {\n      setMaxNubmerOfMovies(5);\n    } else if (windowWidth < 1140) {\n      setMaxNubmerOfMovies(8);\n    } else {\n      setMaxNubmerOfMovies(12);\n    }\n  }, [windowWidth]);\n  // функция добавления фильмов\n  function addMoreFilms() {\n    if (windowWidth < 695) {\n      setMaxNubmerOfMovies(maxNumberOfMovies + 2);\n    } else if (windowWidth < 1140) {\n      setMaxNubmerOfMovies(maxNumberOfMovies + 2);\n    } else {\n      setMaxNubmerOfMovies(maxNumberOfMovies + 3);\n    }\n  }\n  const moviesElements = movies.slice(0, maxNumberOfMovies).map(movie => /*#__PURE__*/_jsxDEV(\"li\", {\n    className: \"movie\",\n    children: /*#__PURE__*/_jsxDEV(MoviesCard, {\n      movie: movie,\n      page: page,\n      onLikeFilm: onLikeFilm,\n      onDeleteFilm: onDeleteFilm,\n      isMovieSaved: isMovieSaved\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this)\n  }, movie.id || movie.movieId, false, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 5\n  }, this));\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    children: [isPreloaderActive ? /*#__PURE__*/_jsxDEV(Preloader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 28\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false), /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: \"movies-cardlist\",\n      children: moviesElements\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this), noMovieError ? /*#__PURE__*/_jsxDEV(NoMovieError, {\n      noMovieErrorText: noMovieErrorText\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"button\",\n      \"aria-label\": \"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u0438\\u0442\\u044C \\u0435\\u0449\\u0435 \\u0444\\u0438\\u043B\\u044C\\u043C\\u044B\",\n      className: `button movies-cardlist__button ${numberOfMovies <= 3 || numberOfMovies <= maxNumberOfMovies || page === \"savedMovies\" ? \"movies-cardlist__button_hidden\" : \"\"}`,\n      onClick: addMoreFilms,\n      children: \"\\u0415\\u0449\\u0451\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 5\n  }, this);\n}\n_s(MoviesCardList, \"10EbyEjSlHBKLKqXEACreAERCaI=\", false, function () {\n  return [useWindowWidth];\n});\n_c = MoviesCardList;\nexport default MoviesCardList;\nvar _c;\n$RefreshReg$(_c, \"MoviesCardList\");","map":{"version":3,"names":["React","MoviesCard","useWindowWidth","Preloader","NoMovieError","ONE_ROW_WODTH","TWO_ROWS_WODTH","jsxDEV","_jsxDEV","Fragment","_Fragment","MoviesCardList","movies","page","onLikeFilm","onDeleteFilm","isMovieSaved","isPreloaderActive","noMovieError","noMovieErrorText","_s","numberOfMovies","setNubmerOfMovies","useState","maxNumberOfMovies","setMaxNubmerOfMovies","windowWidth","console","log","useEffect","length","JSON","parse","localStorage","getItem","window","location","href","addMoreFilms","moviesElements","slice","map","movie","className","children","fileName","_jsxFileName","lineNumber","columnNumber","id","movieId","type","onClick","_c","$RefreshReg$"],"sources":["/Users/konstantinradcenko/dev/movies-explorer-full/frontend/src/components/MoviesCardList/MoviesCardList.js"],"sourcesContent":["import React from \"react\";\nimport MoviesCard from \"../MoviesCard/MoviesCard\";\nimport useWindowWidth from \"../../hooks/useWindowWidth\";\nimport Preloader from \"../Preloader/Preloader\";\nimport NoMovieError from \"../NoMovieError/NoMovieError\";\nimport ONE_ROW_WODTH from \"../../utils/constants\"\nimport TWO_ROWS_WODTH from \"../../utils/constants\"\n\nfunction MoviesCardList({\n  movies,\n  page,\n  onLikeFilm,\n  onDeleteFilm,\n  isMovieSaved,\n  isPreloaderActive,\n  noMovieError,\n  noMovieErrorText,\n}) {\n  const [numberOfMovies, setNubmerOfMovies] = React.useState();\n  const [maxNumberOfMovies, setMaxNubmerOfMovies] = React.useState();\n  const windowWidth = useWindowWidth();\n  console.log()\n  //изменяет количество фильмов при отображении страницы\n  React.useEffect(() => {\n    setNubmerOfMovies(movies.length);\n    if (page === \"movies\") {\n      movies = JSON.parse(localStorage.getItem(\"filteredMovies\")) || [];\n    } else {\n      movies = JSON.parse(localStorage.getItem(\"savedMovies\"));\n    }\n  }, [page, movies, window.location.href]);\n  // измененние количества доступных фильмов при отображениее\n  React.useEffect(() => {\n    if (page === \"savedMovies\") {\n      return setMaxNubmerOfMovies(movies.length);\n    }\n    if (windowWidth < 695) {\n      setMaxNubmerOfMovies(5);\n    } else if (windowWidth < 1140) {\n      setMaxNubmerOfMovies(8);\n    } else {\n      setMaxNubmerOfMovies(12);\n    }\n  }, [windowWidth]);\n  // функция добавления фильмов\n  function addMoreFilms() {\n    if (windowWidth < 695) {\n      setMaxNubmerOfMovies(maxNumberOfMovies + 2);\n    } else if (windowWidth < 1140) {\n      setMaxNubmerOfMovies(maxNumberOfMovies + 2);\n    } else {\n      setMaxNubmerOfMovies(maxNumberOfMovies + 3);\n    }\n  }\n\n  const moviesElements = movies.slice(0, maxNumberOfMovies).map((movie) => (\n    <li key={movie.id || movie.movieId} className=\"movie\">\n      <MoviesCard\n        movie={movie}\n        page={page}\n        onLikeFilm={onLikeFilm}\n        onDeleteFilm={onDeleteFilm}\n        isMovieSaved={isMovieSaved}\n      />\n    </li>\n  ));\n\n  return (\n    <section>\n      {isPreloaderActive ? <Preloader /> : <></>}\n      <ul className=\"movies-cardlist\">{moviesElements}</ul>\n      {noMovieError ? (\n        <NoMovieError noMovieErrorText={noMovieErrorText} />\n      ) : (\n        <></>\n      )}\n      <button\n        type=\"button\"\n        aria-label=\"Загрузить еще фильмы\"\n        className={`button movies-cardlist__button ${\n          numberOfMovies <= 3 ||\n          numberOfMovies <= maxNumberOfMovies ||\n          page === \"savedMovies\"\n            ? \"movies-cardlist__button_hidden\"\n            : \"\"\n        }`}\n        onClick={addMoreFilms}\n      >\n        Ещё\n      </button>\n    </section>\n  );\n}\n\nexport default MoviesCardList;\n"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,UAAU,MAAM,0BAA0B;AACjD,OAAOC,cAAc,MAAM,4BAA4B;AACvD,OAAOC,SAAS,MAAM,wBAAwB;AAC9C,OAAOC,YAAY,MAAM,8BAA8B;AACvD,OAAOC,aAAa,MAAM,uBAAuB;AACjD,OAAOC,cAAc,MAAM,uBAAuB;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAElD,SAASC,cAAcA,CAAC;EACtBC,MAAM;EACNC,IAAI;EACJC,UAAU;EACVC,YAAY;EACZC,YAAY;EACZC,iBAAiB;EACjBC,YAAY;EACZC;AACF,CAAC,EAAE;EAAAC,EAAA;EACD,MAAM,CAACC,cAAc,EAAEC,iBAAiB,CAAC,GAAGtB,KAAK,CAACuB,QAAQ,CAAC,CAAC;EAC5D,MAAM,CAACC,iBAAiB,EAAEC,oBAAoB,CAAC,GAAGzB,KAAK,CAACuB,QAAQ,CAAC,CAAC;EAClE,MAAMG,WAAW,GAAGxB,cAAc,CAAC,CAAC;EACpCyB,OAAO,CAACC,GAAG,CAAC,CAAC;EACb;EACA5B,KAAK,CAAC6B,SAAS,CAAC,MAAM;IACpBP,iBAAiB,CAACV,MAAM,CAACkB,MAAM,CAAC;IAChC,IAAIjB,IAAI,KAAK,QAAQ,EAAE;MACrBD,MAAM,GAAGmB,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,gBAAgB,CAAC,CAAC,IAAI,EAAE;IACnE,CAAC,MAAM;MACLtB,MAAM,GAAGmB,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,aAAa,CAAC,CAAC;IAC1D;EACF,CAAC,EAAE,CAACrB,IAAI,EAAED,MAAM,EAAEuB,MAAM,CAACC,QAAQ,CAACC,IAAI,CAAC,CAAC;EACxC;EACArC,KAAK,CAAC6B,SAAS,CAAC,MAAM;IACpB,IAAIhB,IAAI,KAAK,aAAa,EAAE;MAC1B,OAAOY,oBAAoB,CAACb,MAAM,CAACkB,MAAM,CAAC;IAC5C;IACA,IAAIJ,WAAW,GAAG,GAAG,EAAE;MACrBD,oBAAoB,CAAC,CAAC,CAAC;IACzB,CAAC,MAAM,IAAIC,WAAW,GAAG,IAAI,EAAE;MAC7BD,oBAAoB,CAAC,CAAC,CAAC;IACzB,CAAC,MAAM;MACLA,oBAAoB,CAAC,EAAE,CAAC;IAC1B;EACF,CAAC,EAAE,CAACC,WAAW,CAAC,CAAC;EACjB;EACA,SAASY,YAAYA,CAAA,EAAG;IACtB,IAAIZ,WAAW,GAAG,GAAG,EAAE;MACrBD,oBAAoB,CAACD,iBAAiB,GAAG,CAAC,CAAC;IAC7C,CAAC,MAAM,IAAIE,WAAW,GAAG,IAAI,EAAE;MAC7BD,oBAAoB,CAACD,iBAAiB,GAAG,CAAC,CAAC;IAC7C,CAAC,MAAM;MACLC,oBAAoB,CAACD,iBAAiB,GAAG,CAAC,CAAC;IAC7C;EACF;EAEA,MAAMe,cAAc,GAAG3B,MAAM,CAAC4B,KAAK,CAAC,CAAC,EAAEhB,iBAAiB,CAAC,CAACiB,GAAG,CAAEC,KAAK,iBAClElC,OAAA;IAAoCmC,SAAS,EAAC,OAAO;IAAAC,QAAA,eACnDpC,OAAA,CAACP,UAAU;MACTyC,KAAK,EAAEA,KAAM;MACb7B,IAAI,EAAEA,IAAK;MACXC,UAAU,EAAEA,UAAW;MACvBC,YAAY,EAAEA,YAAa;MAC3BC,YAAY,EAAEA;IAAa;MAAA6B,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC5B;EAAC,GAPKN,KAAK,CAACO,EAAE,IAAIP,KAAK,CAACQ,OAAO;IAAAL,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAQ9B,CACL,CAAC;EAEF,oBACExC,OAAA;IAAAoC,QAAA,GACG3B,iBAAiB,gBAAGT,OAAA,CAACL,SAAS;MAAA0C,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,gBAAGxC,OAAA,CAAAE,SAAA,mBAAI,CAAC,eAC1CF,OAAA;MAAImC,SAAS,EAAC,iBAAiB;MAAAC,QAAA,EAAEL;IAAc;MAAAM,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC,EACpD9B,YAAY,gBACXV,OAAA,CAACJ,YAAY;MAACe,gBAAgB,EAAEA;IAAiB;MAAA0B,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,gBAEpDxC,OAAA,CAAAE,SAAA,mBAAI,CACL,eACDF,OAAA;MACE2C,IAAI,EAAC,QAAQ;MACb,cAAW,gHAAsB;MACjCR,SAAS,EAAG,kCACVtB,cAAc,IAAI,CAAC,IACnBA,cAAc,IAAIG,iBAAiB,IACnCX,IAAI,KAAK,aAAa,GAClB,gCAAgC,GAChC,EACL,EAAE;MACHuC,OAAO,EAAEd,YAAa;MAAAM,QAAA,EACvB;IAED;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACF,CAAC;AAEd;AAAC5B,EAAA,CApFQT,cAAc;EAAA,QAYDT,cAAc;AAAA;AAAAmD,EAAA,GAZ3B1C,cAAc;AAsFvB,eAAeA,cAAc;AAAC,IAAA0C,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}