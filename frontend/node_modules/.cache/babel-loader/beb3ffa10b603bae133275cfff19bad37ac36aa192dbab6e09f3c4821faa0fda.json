{"ast":null,"code":"import _slicedToArray from\"/Users/konstantinradcenko/dev/movies-explorer-full/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import MoviesCard from\"../MoviesCard/MoviesCard\";import useWindowWidth from\"../../hooks/useWindowWidth\";import Preloader from\"../Preloader/Preloader\";import NoMovieError from\"../NoMovieError/NoMovieError\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function MoviesCardList(_ref){var movies=_ref.movies,page=_ref.page,onLikeFilm=_ref.onLikeFilm,onDeleteFilm=_ref.onDeleteFilm,isMovieSaved=_ref.isMovieSaved,isPreloaderActive=_ref.isPreloaderActive,noMovieError=_ref.noMovieError,noMovieErrorText=_ref.noMovieErrorText;var _React$useState=React.useState(),_React$useState2=_slicedToArray(_React$useState,2),numberOfMovies=_React$useState2[0],setNubmerOfMovies=_React$useState2[1];var _React$useState3=React.useState(),_React$useState4=_slicedToArray(_React$useState3,2),maxNumberOfMovies=_React$useState4[0],setMaxNubmerOfMovies=_React$useState4[1];var windowWidth=useWindowWidth();//изменяет количество фильмов при отображении страницы\nReact.useEffect(function(){setNubmerOfMovies(movies.length);},[page,movies]);// измененние количества доступных фильмов при отображениее\nReact.useEffect(function(){if(page===\"savedMovies\"){return setMaxNubmerOfMovies(movies.length);}if(windowWidth<650){setMaxNubmerOfMovies(5);}else if(windowWidth<900){setMaxNubmerOfMovies(8);}else if(windowWidth>900){setMaxNubmerOfMovies(12);}},[windowWidth]);// функция добавления фильмов\nfunction addMoreFilms(){if(windowWidth<650){setMaxNubmerOfMovies(maxNumberOfMovies+2);}else if(windowWidth<900){setMaxNubmerOfMovies(maxNumberOfMovies+2);}else if(windowWidth>900){setMaxNubmerOfMovies(maxNumberOfMovies+3);}}var moviesElements=movies.slice(0,maxNumberOfMovies).map(function(movie){return/*#__PURE__*/_jsx(\"li\",{className:\"movie\",children:/*#__PURE__*/_jsx(MoviesCard,{movie:movie,page:page,onLikeFilm:onLikeFilm,onDeleteFilm:onDeleteFilm,isMovieSaved:isMovieSaved})},movie.id||movie.movieId);});return/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsx(\"ul\",{className:\"movies-cardlist\",children:moviesElements}),isPreloaderActive?/*#__PURE__*/_jsx(Preloader,{}):/*#__PURE__*/_jsx(_Fragment,{}),noMovieError?/*#__PURE__*/_jsx(NoMovieError,{noMovieErrorText:noMovieErrorText}):/*#__PURE__*/_jsx(_Fragment,{}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",\"aria-label\":\"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u0438\\u0442\\u044C \\u0435\\u0449\\u0435 \\u0444\\u0438\\u043B\\u044C\\u043C\\u044B\",className:\"button movies-cardlist__button \".concat(numberOfMovies<=3||numberOfMovies<=maxNumberOfMovies||page===\"savedMovies\"?\"movies-cardlist__button_hidden\":\"\"),onClick:addMoreFilms,children:\"\\u0415\\u0449\\u0451\"})]});}export default MoviesCardList;","map":{"version":3,"names":["React","MoviesCard","useWindowWidth","Preloader","NoMovieError","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","MoviesCardList","_ref","movies","page","onLikeFilm","onDeleteFilm","isMovieSaved","isPreloaderActive","noMovieError","noMovieErrorText","_React$useState","useState","_React$useState2","_slicedToArray","numberOfMovies","setNubmerOfMovies","_React$useState3","_React$useState4","maxNumberOfMovies","setMaxNubmerOfMovies","windowWidth","useEffect","length","addMoreFilms","moviesElements","slice","map","movie","className","children","id","movieId","type","concat","onClick"],"sources":["/Users/konstantinradcenko/dev/movies-explorer-full/frontend/src/components/MoviesCardList/MoviesCardList.js"],"sourcesContent":["import React from \"react\";\nimport MoviesCard from \"../MoviesCard/MoviesCard\";\nimport useWindowWidth from \"../../hooks/useWindowWidth\";\nimport Preloader from \"../Preloader/Preloader\";\nimport NoMovieError from \"../NoMovieError/NoMovieError\";\n\nfunction MoviesCardList({\n  movies,\n  page,\n  onLikeFilm,\n  onDeleteFilm,\n  isMovieSaved,\n  isPreloaderActive,\n  noMovieError,\n  noMovieErrorText,\n}) {\n  const [numberOfMovies, setNubmerOfMovies] = React.useState();\n  const [maxNumberOfMovies, setMaxNubmerOfMovies] = React.useState();\n  const windowWidth = useWindowWidth();\n  //изменяет количество фильмов при отображении страницы\n  React.useEffect(() => {\n    setNubmerOfMovies(movies.length);\n  }, [page, movies]);\n  // измененние количества доступных фильмов при отображениее\n  React.useEffect(() => {\n    if (page === \"savedMovies\") {\n      return setMaxNubmerOfMovies(movies.length);\n    }\n    if (windowWidth < 650) {\n      setMaxNubmerOfMovies(5);\n    } else if (windowWidth < 900) {\n      setMaxNubmerOfMovies(8);\n    } else if (windowWidth > 900) {\n      setMaxNubmerOfMovies(12);\n    }\n  }, [windowWidth]);\n  // функция добавления фильмов\n  function addMoreFilms() {\n    if (windowWidth < 650) {\n      setMaxNubmerOfMovies(maxNumberOfMovies + 2);\n    } else if (windowWidth < 900) {\n      setMaxNubmerOfMovies(maxNumberOfMovies + 2);\n    } else if (windowWidth > 900) {\n      setMaxNubmerOfMovies(maxNumberOfMovies + 3);\n    }\n  }\n\n  const moviesElements = movies.slice(0, maxNumberOfMovies).map((movie) => (\n    <li key={movie.id || movie.movieId} className=\"movie\">\n      <MoviesCard\n        movie={movie}\n        page={page}\n        onLikeFilm={onLikeFilm}\n        onDeleteFilm={onDeleteFilm}\n        isMovieSaved={isMovieSaved}\n      />\n    </li>\n  ));\n\n  return (\n    <section>\n      <ul className=\"movies-cardlist\">{moviesElements}</ul>\n      {isPreloaderActive ? <Preloader /> : <></>}\n      {noMovieError ? (\n        <NoMovieError noMovieErrorText={noMovieErrorText} />\n      ) : (\n        <></>\n      )}\n      <button\n        type=\"button\"\n        aria-label=\"Загрузить еще фильмы\"\n        className={`button movies-cardlist__button ${\n          numberOfMovies <= 3 ||\n          numberOfMovies <= maxNumberOfMovies ||\n          page === \"savedMovies\"\n            ? \"movies-cardlist__button_hidden\"\n            : \"\"\n        }`}\n        onClick={addMoreFilms}\n      >\n        Ещё\n      </button>\n    </section>\n  );\n}\n\nexport default MoviesCardList;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}